import * as Ably from 'ably';
import { WebSocketConfig } from '../types/IRemoteConfig';
/** @deprecated */
export declare const pushEventAggregator: import("mitt").Emitter<Record<import("mitt").EventType, unknown>>;
export declare const eventAggregator: import("mitt").Emitter<Record<import("mitt").EventType, unknown>>;
export declare type EventSource = 'local' | 'remote';
/**
 * Open an authenticated connection to ably.
 *
 * @param config The configuration used to open the connection.
 */
export declare function connectToAbly(config: WebSocketConfig): Ably.Realtime;
/**
 * Publish events to the internal and public event emitter, based on the event source.
 *
 * @param event The name of the event.
 * @param data The data object to pass along with the event.
 * @param source The origin of the event, local for an action that's triggered by the user in the current tab, remote if it's an event from another instance that should be mirrored.
 */
export declare function emitEvent(event: string, data: unknown, source: EventSource): void;
/**
 * Publish an ably event to the push event emitter. If the push event contains
 * the ID of a notification, this is fetched before emitting the event.
 *
 * @param event The realtime event
 */
export declare function handleAblyEvent(event: Ably.Types.Message): Promise<boolean>;
